<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title></title>

    <link rel="stylesheet" type="text/css" media="screen" href="css/style.css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
</head>

<body>

    <div id="main" class="content">

        <div class="col-sm-4 pic">
            <img class="img-responsive" src="img/headerimg.jpg">
        </div>

        <div class="col-sm-8 text-right">
            <a href="mailto:berenguer.pou@gmail.com"><span class="glyphicon glyphicon-envelope"></span></a> <a href="mailto:berenguer.pou@gmail.com">info@tgif.net</a>
        </div>

        <navbar active="loyalty"></navbar>

        <div id="loader"></div>

        <div style="display:none;" id="myDiv" class="animate-bottom">

            <div class="top-content">
                <div class="top-left-table">
                    <h2>Party Loyalty</h2>
                    <p>Those who consider themselves to be strong partisans, strong Democrats and strong Republicans
                        respectively,
                        tend to be the most faithful in voting for their party's nominee for office and legislation
                        that
                        backs
                        their party's agenda. </p>
                </div>

                <div class="top-right-table">
                    <h2 id="table-heading">Senate at a glance</h2>
                    <table id="calc-t" class="calc-table">
                        <thead>
                            <tr>
                                <th>Party</th>
                                <th>Number of Reps</th>
                                <th>% Voted with Party</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr id="republican-row">
                                <td>Republicans</td>
                                <td>{{statistics.republicans_count}}</td>
                                <td>{{statistics.republicans_average_votes_with_party}}</td>
                            </tr>
                            <tr id="democrat-row">
                                <td>Democrats</td>
                                <td>{{statistics.democrats_count}}</td>
                                <td>{{statistics.democrats_average_votes_with_party}}</td>
                            </tr>
                            <tr id="independent-row">
                                <td>Independents</td>
                                <td>{{statistics.independents_count}}</td>
                                <td>{{statistics.independents_average_votes_with_party}}</td>
                            </tr>
                            <tr id="total-row">
                                <td>Total</td>
                                <td>{{statistics.total_count}}</td>
                                <td>{{statistics.total_average_votes_with_party}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <hr>

            <div class="bottom-tables">
                <div class="left-table">
                    <h2 id="table-heading">Least Loyal (Bottom 10% of Party)</h2>
                    <table class="calc-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Number Party Votes</th>
                                <th>% Party Votes</th>
                            </tr>
                        </thead>
                        <tbody id="least">

                            <tr v-for="least_members in statistics.least_loyal_members">
                                <td v-if="least_members.middle_name !== null"> <a :href="least_members.url">
                                        {{least_members.first_name + " " +
                                        least_members.middle_name + " " + least_members.last_name}}</a></td>
                                <td v-else="least_members.middle_name === null"><a :href="least_members.url">{{least_members.first_name
                                        + " " +
                                        least_members.last_name}}</a></td>
                                <td>{{least_members.total_votes}}</td>
                                <td>{{least_members.votes_with_party_pct}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="right-table">
                    <h2 id="table-heading">Most Loyal (Top 10% of Party)</h2>
                    <table class="calc-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Number Party Votes</th>
                                <th>% Party Votes</th>
                            </tr>
                        </thead>
                        <tbody id="most">
                            <tr v-for="most_members in statistics.most_loyal_members">
                                <td v-if="most_members.middle_name !== null"><a :href="most_members.url">{{most_members.first_name
                                        + " " +
                                        most_members.middle_name + " " + most_members.last_name}}</a></td>
                                <td v-else="most_members.middle_name === null"><a :href="most_members.url">{{most_members.first_name
                                        + " " +
                                        most_members.last_name}}</a></td>
                                <td>{{most_members.total_votes}}</td>
                                <td>{{most_members.votes_with_party_pct}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="js/calculation_vue.js"></script>
</body>

</html>